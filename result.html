<!DOCTYPE html>
<html lang="zh-Hant-TW">
<head>
    <meta charset="UTF-8">
    <title>查詢結果</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>

<div class="container result-box">

    <h1>國立中正大學 115 學年度</h1>
    <h2>電機工程研究所（計算機工程組）</h2>

    <div id="content">讀取中...</div>

</div>

<script>
const params = new URLSearchParams(window.location.search);
const id = params.get("id");
const exam = params.get("exam");

function render(data) {
    return `
    <table class="table">
        <tr><th>項目</th><th>成績</th></tr>
        <tr><td>資料審查成績</td><td>${data.review}</td></tr>
        <tr><td>面試成績</td><td>${data.interview}</td></tr>
        <tr><td>錄取結果</td><td><b>${data.result}</b></td></tr>
    </table>
    `;
}

fetch("data.json")
    .then(r => r.json())
    .then(list => {
        const person = list.find(p => p.id === id && p.exam === exam);

        if (!person) {
            document.getElementById("content").innerHTML = `
                <p style="color:red;font-weight:bold;">查無資料，請確認輸入是否正確。</p>
            `;
            return;
        }

        document.getElementById("content").innerHTML = render(person);
    })
    .catch(err => {
        document.getElementById("content").innerHTML = `
            <p style="color:red;font-weight:bold;">資料載入錯誤。</p>
        `;
    });
</script>

</body>
</html>
